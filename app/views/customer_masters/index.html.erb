<div class="contents-wrap">
  <div class="contents-inner">
    <% #エラーメッセージ呼び出し %>
    <%#= render "layouts/errors", errors: @???.errors %>
    <div class="gray-wrap">
      <h1>得意先入力</h1>
      <%= form_for @customer, url: {:controller => :customer_masters, :action => :upsert, :id => @customer.id } do |f| %>
        <div class="top-edit">
          <dl class="edit-wrap small">
            <dt>得意先番号</dt>
            <dd>
              <span class="input w50 not-edit">108</span>
              <span class="hyphen">−</span>
              <span class="input w50 not-edit">100 </span>
            </dd>
            <dt>得意先コード</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :id %>
              </span>
            </dd>
            <dt>登録日</dt>
            <dd>
              <span class="input w200">
                <%= f.date_field :start_date %>
              </span>
            </dd>
            <dt>部門</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :department_id %>
              </span>
              <span class="input w100 not-edit"><%= @department_name %></span>
            </dd>
            <dt>担当者</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :charge_id %>
              </span>
              <span class="input w100 not-edit"><%= @charge_name %></span>
            </dd>
            <dt>発行者</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :input_user_id %>
              </span>
              <span class="input w100 not-edit"><%= @input_user_name %></span>
            </dd>
            <dt>マスタキー</dt>
            <dd>
              <span class="input w100per">
                <input type="text" name="" id="" value="" />
              </span>
            </dd>
          </dl>
          <dl class="edit-wrap x2">
            <dt>得意先名</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :customer_name %>
              </span>
            </dd>
            <dt>得意先担当者役職</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :charge_position %>
              </span>
            </dd>
            <dt>得意先担当者</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :charge_name %>
              </span>
            </dd>
          </dl>
          <dl class="edit-wrap x4">
            <dt>得意先住所（郵便番号）</dt>
            <dd class="x2">
              <span class="input w100per">
                <%= f.text_field :cus_post_code %>
              </span>
            </dd>
            <dt>得意先住所（都道府県）</dt>
            <dd class="x2">
              <span class="input w100per">
                <%= f.text_field :cus_prefecture %>
              </span>
            </dd>
            <dt>得意先住所（住所1）</dt>
            <dd class="x2">
              <span class="input w100per">
                <%= f.text_field :cus_address1 %>
              </span>
            </dd>
            <dt>得意先住所（住所2）</dt>
            <dd class="x2">
              <span class="input w100per">
                <%= f.text_field :cus_address2 %>
              </span>
            </dd>
            <dt>電話番号</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :phone_number %>
              </span>
            </dd>
            <dt>FAX番号</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :fax_number %>
              </span>
            </dd>
            <dt>メールアドレス</dt>
            <dd>
              <span class="input w100per">
                <%= f.text_field :mail_address %>
              </span>
            </dd>
          </dl>
          <dl class="edit-wrap x4">
            <dt>支払条件</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :payment_category_code %>
              </span>
              <span class="input w-flex">
                <input type="text" name="" id="" value="現金" />
              </span>
            </dd>
            <dt>締日</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :close_date_code %>
              </span>
              <span class="input w-flex">
                <input type="text" name="" id="" value="末日" />
              </span>
            </dd>
            <dt>支払日</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :payment_date_code %>
              </span>
              <span class="input w-flex">
                <input type="text" name="" id="" value="翌末日" />
              </span>
            </dd>
          </dl>
          <dl class="edit-wrap x2">
            <dt>振込先</dt>
            <dd>
              <span class="input contents-label">
                <%= f.text_field :deposit_account_id %>
              </span>
              <span class="input w-flex">
                <input type="text" name="" id="" value="翌末日" />
              </span>
            </dd>
          </dl>
          <div class="top-edit-flex">
            <dl class="edit-wrap small">
              <dt class="w120">備考欄</dt>
              <dd class="w-flex ml0">
                <span class="input w100per">
                  
                </span>
              </dd>
            </dl>
            <ul class="top-button-list">
              <li><button name="create">新規登録</button></li>
              <li><button name="update">保存</button></li>
            </ul>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="contents-inner">
    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>得意先コード</th>
          <th>部門コード</th>
          <th>仕入先名</th>
          <th>住所</th>
          <th>電話番号</th>
          <th>FAX番号</th>
          <th>担当コード</th>
          <th>担当名</th>
          <th>詳細</th>
        </tr>
      </thead>
      <tbody>
        <% @customers.each.with_index(1) do |customer, i| %>
          <tr data-link="<%= edit_customer_master_path(customer.id) %>">
            <td><%= i %></td>
            <td><%= customer.id %></td>
            <td><%= customer.department_id %></td>
            <td><%= customer.customer_name %></td>
            <td>
              <%= customer.cus_post_code + ' ' %>
              <%= customer.cus_prefecture %>
              <%= customer.cus_address1 %>
              <%= customer.cus_address2 %>
            </td>
            <td><%= customer.phone_number %></td>
            <td><%= customer.fax_number %></td>
            <td><%= customer.charge_id %></td>
            <td><%= customer.charge.user_name %></td>
            <td><button>詳細</button></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<script>
  $("tr[data-link]").click(function() {
    window.location = $(this).data("link")
  })
</script>

<style>
  tr:hover {
    background: gray;
  }
</style>